<!-- templates/home.html -->
{{ define "home" }}
<div class="flex flex-col items-center">
    <h2 class="text-xl font-semibold mb-4">Welcome to Hype Bid!</h2>
    <p class="text-lg mb-4">You have successfully logged in with Twitch.</p>

    <div id="user-info" class="bg-white shadow-md rounded p-4 mb-4">
        <h3 class="text-lg font-semibold">User Information:</h3>
        <p><strong>User ID:</strong><span id="user-id">{{ .UserID }}</span></p>
        <p><strong>Twitch Username:</strong><span id="username">{{ .Username }}</span></p>
        <p><strong>Email:</strong><span id="email">{{ .Email }}</span></p>
        <img src="" alt="Profile Image" class="w-24 h-24 rounded-full mt-2"> <!-- TODO: Add profile image -->
    </div>

    <div class="flex space-x-4">
        <a href="/api/v1/logout" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition duration-200">
            Log Out
        </a>
        <a href="/api/v1/dashboard" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition duration-200">
            Go to Dashboard
        </a>
    </div>
</div>

<script>
    // Function to get URL parameters
    function getUrlParams() {
        const params = new URLSearchParams(window.location.search);
        return {
            userId: params.get('userID'),
            username: params.get('username'),
            email: params.get('email')
        };
    }

    // Function to display user information
    function displayUserInfo() {
        const { userId, username, email } = getUrlParams();
        document.getElementById('user-id').textContent = userId || 'N/A';
        document.getElementById('username').textContent = username || 'N/A';
        document.getElementById('email').textContent = email || 'N/A';
    }

    // Call the function to display user info on page load
    displayUserInfo();
</script>
{{ end }}